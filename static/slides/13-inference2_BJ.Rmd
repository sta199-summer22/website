---
title: "Statistical Inference"
author: "Bora Jin"

output:
  xaringan::moon_reader:
    css: ["xaringan-themer.css", "slides.css"]
    lib_dir: libs
    nature:
      ratio: "16:9"
      highlightLines: true
      highlightStyle: solarized-light
      countIncrementalSlides: false
---

```{r child = "setup.Rmd"}
```

```{r packages, echo=FALSE, message=FALSE, warning=FALSE}
library(tidyverse)
theme_set(theme_bw())
# library(broom)
# library(knitr)
# library(DT)
# library(emo)
# library(openintro)
# library(infer)
# library(patchwork)
knitr::opts_chunk$set(warning = FALSE, message = FALSE)
```

## Today's Goal 

- Understand statistical process terminology
- Understand different types of conclusions we can make through statistical inference
- Understand point estimate and confidence intervals 

---

class: center, middle

# Statistical Inference

---

## Terminology  

- **Population**: a group of individuals or objects we are interested in studying

- **Parameter**: a numerical quantity derived from the population
(almost always unknown)

  - Parameters could be the mean, median, correlation, maximum, etc. 

If we had data from every unit in the population, we could just calculate 
population parameters and be done!

---

## Terminology  

Unfortunately, we usually cannot do this, so we draw conclusions from

- **Sample**: a subset of our population of interest

- **Statistic**: a numerical quantity derived from a sample

  - Statistics could be the mean, median, correlation, maximum, etc. 

Naturally, it makes sense to use the sample mean (and other quantities derived from the sample) to make generalizations about the population mean.

---

## Statistical Inference

Statistical inference is the process of using sample data to make 
conclusions about the underlying population the sample came from.

- **Estimation**: using the sample to estimate a plausible range of values 
for the unknown parameter

- **Testing**: evaluating whether our observed sample provides evidence 
for or against some claim about the population

--

Today we will focus on **Estimation**.

---

class: center, middle

# Estimation

---

## Trip to Asheville! 

```{r echo=FALSE, out.width="50%", fig.align="center"}
knitr::include_graphics("img/13/asheville.jpeg")
```

.center[
How much should we expect to pay for an Airbnb in Asheville?
]

---

## Asheville Airbnb

- **Research question**: What is the mean price per guest per night
among Airbnb rentals with at least ten reviews in Asheville (zip codes 28801 - 28806)?

--

- **Population of interest**: listings in the Asheville with at least ten reviews.

--

- **Parameter of interest**: Mean price per guest per night among these 
listings.

--

We have data on the price per guest (`ppg`) for a random sample of 50 Airbnb listings
with at least ten reviews in Asheville, NC, that were active on June 25, 2020 (Source: http://insideairbnb.com/).

--

- **Sample**: randomly selected 50 listings in the Asheville with at least ten reviews.

--

- **Statistic**: Mean price per guest per night among these sampled listings.

---

## Point Estimate

A **point estimate** is a single value computed from the sample data to serve
as the "best guess", or estimate, for the population parameter. 

```{r}
abb <- read_csv("data/asheville.csv")
abb %>% 
  summarize(mean_price = mean(ppg))
```

---

## Visualizing Our Sample

```{r, echo = F, out.width = "70%"}
ggplot(data = abb, aes(ppg)) +
  geom_histogram(binwidth = 22,
                 color = "darkblue",
                 fill = "skyblue") +
  labs(title = "Right-skewed distribution of price per guest",
       x = "Price per guest per night ($)",
       y = "Count") +
  scale_y_continuous(breaks = seq(0, 20, by = 5)) 
```

---

## Point vs. Interval 

If you want to catch a fish, do you prefer a spear or a net?

.pull-left[
```{r echo=FALSE, out.width=300, fig.align="center"}
knitr::include_graphics("img/13/spear.png")
```
]
.pull-right[
```{r echo=FALSE, out.width=300, fig.align="center"}
knitr::include_graphics("img/13/net.png")
```
]

---

## Point vs. Interval 

If you want to estimate a population parameter, do you prefer to report a single value or a range of values the parameter might be in?

.pull-left[
```{r echo=FALSE, out.width=300, fig.align="center"}
knitr::include_graphics("img/13/spear.png")
```
]
.pull-right[
```{r echo=FALSE, out.width=300, fig.align="center"}
knitr::include_graphics("img/13/net.png")
```
]

---

## Point vs. Interval 

If you want to estimate a population parameter, do you prefer to report a single value or a range of values the parameter might be in?

.pull-left[
```{r echo=FALSE, out.width=300, fig.align="center"}
knitr::include_graphics("img/13/spear.png")
```
]
.pull-right[
```{r echo=FALSE, out.width=300, fig.align="center"}
knitr::include_graphics("img/13/net.png")
```
]

- If we report a point estimate, we probably wonâ€™t hit the exact population 
parameter.

- If we report a range of plausible values, we have a good shot at capturing 
the parameter.

---

class: middle, center

# Uncertainty Quantification 

---

## Confidence Intervals 

- A plausible range of values for the population parameter is a **confidence interval**.

- In order to construct a confidence interval we need to quantify variability (uncertainty) of our sample statistic.

- For example, if we want to construct a confidence interval for a population mean, we need to come up with a plausible range of values around our observed sample mean.

- This range will depend on how precise and how accurate our sample mean is as an estimate of the population mean.

- Quantifying this requires a measurement of how much we would expect the sample mean to vary from sample to sample.

---

## Quantifying Variability

- There is almost always some variability of sample statistics because random samples may differ from each other. 

--

- If we took another random sample of 50 Airbnb listings in Asheville, we probably wouldn't get the same mean price per guest. 

--

- Suppose we split the class in half and ask each student their height. 
Then, we calculate the mean height of students on each side of the classroom. 
Would you expect these two means to be exactly equal, close but not equal, 
or wildly different?

--

- Suppose you randomly sample 50 students and 5 of them are left handed. If you 
were to take another random sample of 50 students, how many would you expect to 
be left handed? Would you be surprised if only 3 of them were left handed? Would 
you be surprised if 40 of them were left handed?

---

## Quantifying Variability

We can quantify the variability of sample statistics using different approaches:

- **Simulation**: via bootstrapping or "resampling" techniques 

- **Theory**: via the Central Limit Theorem 

---

class: middle, center

# Questions?

---

## Bulletin

- Watch videos for [Prepare: June 1](https://sta199-summer22.netlify.app/prepare/week04_jun01_BJ.html)

- Kick-off of the final project! Read [intructions](https://sta199-summer22.netlify.app/project/project_BJ.html) carefully. 

- Project proposal due Friday, June 3 at 11:59pm 

- Lab 04 due tonight at 11:59pm


