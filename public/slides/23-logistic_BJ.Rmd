---
title: "Logistic Regression"
author: "Bora Jin"

output:
  xaringan::moon_reader:
    css: ["xaringan-themer.css", "slides.css"]
    lib_dir: libs
    nature:
      ratio: "16:9"
      highlightLines: true
      highlightStyle: solarized-light
      countIncrementalSlides: false
---

```{r child = "setup.Rmd"}
```

## Material 

`r emo::ji("movie_camera")` Watch [Logistic Regression](https://www.youtube.com/watch?v=AidXFYSYfJg) 

- [Slides](https://rstudio-education.github.io/datascience-box/course-materials/slides/u4-d06-logistic-reg/u4-d06-logistic-reg.html#1)

---

## Today's Goal 


model diagnosis 

nonlinear relationship 
residual plots 
augment
randomly distributed around 0 
lienear relationshp was captured already by the model 
if not lm happens not to be the best model 

log transformation 

logit
logistic_reg
"glm"
fit(family = "binomial")
write out logit model 

sensitivity and specificity
trade off 
but still want them high 

- Use functions in `R` to fit a linear model with multiple predictors 
- Model interactions between variables 
- Understand what's linear in linear regressions
- Implement CLT-based CI and HT for regression parameters

---

## Quiz 

Suppose a dataset called `mydata` has variables `y`, `x1`, and `x2`. The variable `x1` is numeric and `x2` is categorical. For the following questions, write out a regression model and the code to fit the model. 

**Q - Same slope and same intercept between `x1` and `y` for different levels of `x2`.** 

--
$$y = \beta_0 + \beta_1~x_1 + \epsilon$$
```{r, eval = FALSE}
lm(y ~ x1, data = mydata)
```

---

## Quiz

**Q - Same slope and different intercept (parallel lines) for different levels of `x2`.** 

--

$$y = \beta_0 + \beta_1~x_1 + \beta_2~x_2 + \epsilon$$

```{r, eval = FALSE}
linear_reg(engine = "lm") %>% 
  fit(y ~ x1 + x2, data = mydata)
```

---

## Quiz

**Q - Different slope and different intercept (non-parallel lines) for different levels of `x2`.** 

--

$$y = \beta_0 + \beta_1~x_1 + \beta_2~x_2 + \beta_3~(x_1*x_2)+ \epsilon$$
```{r, eval = FALSE}
lm(y ~ x1*x2, data = mydata)
lm(y ~ x1 + x2 + x1:x2, data = mydata)
```

---

## Quiz 

**Q - Write separate fitted models for non-living artists (`artistliving` = 0) and for living artists (`artistliving` = 1) using the following result. Your fitted models should include `log_price` and `surface` only.**

$$\widehat{log\_price} = 4.91 + 0.00021~surface - 0.126~artistliving$$
$$+ ~ 0.00048 ~surface * artistliving$$
--

- Non-living artists: $\widehat{log\_price} = 4.91 + 0.00021~surface$
- Living artists: $\widehat{log\_price} = 4.784 + 0.00069~surface$
- Non-parallel lines due to the interaction effect!

---

class: middle, center

# Questions?

---

## Let's Practice Together! 

Go to [AE 22: Models with Multiple Predictors 2](https://sta199-summer22.netlify.app/appex/ae22_BJ.html)

---

## Bulletin

- Watch videos for [Prepare: June 14](https://sta199-summer22.netlify.app/prepare/week06_jun14_BJ.html)

- Project draft due tonight at 11:59pm 

- HW04 due Thursday, June 16 at 11:59pm

- Submit `ae22` 

